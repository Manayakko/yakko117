<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5"><title>DDoS原理与防御 | Manayakko - 微笑才是王道</title><meta name="description" content="DDoS原理与防御"><meta name="keywords" content="瞎扯,渗透"><meta name="author" content="凌岳霖"><meta name="copyright" content="凌岳霖"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><meta name="twitter:card" content="summary"><meta name="twitter:title" content="DDoS原理与防御"><meta name="twitter:description" content="DDoS原理与防御"><meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_0.png"><meta property="og:type" content="article"><meta property="og:title" content="DDoS原理与防御"><meta property="og:url" content="https://www.suk1.top/2020/03/29/Ddos%E5%AD%A6%E4%B9%A0/"><meta property="og:site_name" content="Manayakko - 微笑才是王道"><meta property="og:description" content="DDoS原理与防御"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_0.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>const autoChangeMode = 'false'
var t = Cookies.get("theme");
if (autoChangeMode == '1'){
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
const isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
const isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

if (t === undefined){
  if (isLightMode) activateLightMode()
  else if (isDarkMode) activateDarkMode()
  else if (isNotSpecified || hasNoSupport){
    console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
    now = new Date();
    hour = now.getHours();
    isNight = hour < 6 || hour >= 18
    isNight ? activateDarkMode() : activateLightMode()
}
} else if (t == 'light') activateLightMode()
else activateDarkMode()


} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://www.suk1.top/2020/03/29/Ddos%E5%AD%A6%E4%B9%A0/"><link rel="prev" title="De1CTF Giftbox题解" href="https://www.suk1.top/2020/04/02/De1CTFGiftbox/"><link rel="next" title="浅析PHP混淆加密" href="https://www.suk1.top/2020/03/26/php%E6%B7%B7%E6%B7%86%E5%8A%A0%E5%AF%86/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    title: 'Snackbar.bookmark.title',
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: false,
  copyright: {"languages":{"author":"作者: 凌岳霖","link":"链接: https://www.suk1.top/2020/03/29/Ddos%E5%AD%A6%E4%B9%A0/","source":"来源: Manayakko - 微笑才是王道","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  isHome: false,
  isPost: true
  
}</script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Manayakko - 微笑才是王道" type="application/atom+xml">
</head><body><header> <div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Manayakko - 微笑才是王道</a></span><span class="toggle-menu pull_right close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-simplybuilt"></i><span> 关于本人</span></a></div></div></span><span class="pull_right" id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></span></div></header><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">58</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">10</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-simplybuilt"></i><span> 关于本人</span></a></div></div></div><div id="mobile-sidebar-toc"><div class="toc_mobile_headline">目录</div><div class="sidebar-toc__content"><ol class="toc_mobile_items"><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#DDoS简介"><span class="toc_mobile_items-number">1.</span> <span class="toc_mobile_items-text">DDoS简介</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DDoS危害"><span class="toc_mobile_items-number">1.1.</span> <span class="toc_mobile_items-text">DDoS危害</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#攻击来源"><span class="toc_mobile_items-number">1.2.</span> <span class="toc_mobile_items-text">攻击来源</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#流量特点"><span class="toc_mobile_items-number">1.3.</span> <span class="toc_mobile_items-text">流量特点</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#导致DDoS原因"><span class="toc_mobile_items-number">1.4.</span> <span class="toc_mobile_items-text">导致DDoS原因</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#攻击类型及防御"><span class="toc_mobile_items-number">2.</span> <span class="toc_mobile_items-text">攻击类型及防御</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Smurf-Attack"><span class="toc_mobile_items-number">2.1.</span> <span class="toc_mobile_items-text">Smurf Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#TearDrop-Attack"><span class="toc_mobile_items-number">2.2.</span> <span class="toc_mobile_items-text">TearDrop Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#Land-Attack"><span class="toc_mobile_items-number">2.3.</span> <span class="toc_mobile_items-text">Land Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#SYN-flood-attack-几个值得了解的关键点来了"><span class="toc_mobile_items-number">2.4.</span> <span class="toc_mobile_items-text">SYN flood attack (几个值得了解的关键点来了)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#ACK-Flood-Attack"><span class="toc_mobile_items-number">2.5.</span> <span class="toc_mobile_items-text">ACK Flood Attack</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第一种"><span class="toc_mobile_items-number">2.5.1.</span> <span class="toc_mobile_items-text">第一种</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#第二种"><span class="toc_mobile_items-number">2.5.2.</span> <span class="toc_mobile_items-text">第二种</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#UDP-FLood-Attack"><span class="toc_mobile_items-number">2.6.</span> <span class="toc_mobile_items-text">UDP FLood Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#NTP放大攻击-初步只作点了解"><span class="toc_mobile_items-number">2.7.</span> <span class="toc_mobile_items-text">NTP放大攻击(初步只作点了解)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#DNS放大攻击"><span class="toc_mobile_items-number">2.8.</span> <span class="toc_mobile_items-text">DNS放大攻击</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DNS递归查询"><span class="toc_mobile_items-number">2.8.1.</span> <span class="toc_mobile_items-text">DNS递归查询</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#DNS递归查询-1"><span class="toc_mobile_items-number">2.8.2.</span> <span class="toc_mobile_items-text">DNS递归查询</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#SNMP放大攻击"><span class="toc_mobile_items-number">2.9.</span> <span class="toc_mobile_items-text">SNMP放大攻击</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#下面来看一下SNMP的PDU格式"><span class="toc_mobile_items-number">2.9.1.</span> <span class="toc_mobile_items-text">下面来看一下SNMP的PDU格式</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#TFTP放大攻击"><span class="toc_mobile_items-number">2.10.</span> <span class="toc_mobile_items-text">TFTP放大攻击</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#超时重传机制"><span class="toc_mobile_items-number">2.10.1.</span> <span class="toc_mobile_items-text">超时重传机制</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#TFTP-放大攻击示意图"><span class="toc_mobile_items-number">2.10.2.</span> <span class="toc_mobile_items-text">TFTP 放大攻击示意图</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#CC-攻击-重点"><span class="toc_mobile_items-number">2.11.</span> <span class="toc_mobile_items-text">CC 攻击 (重点)</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#HTTP-慢速攻击"><span class="toc_mobile_items-number">2.12.</span> <span class="toc_mobile_items-text">HTTP 慢速攻击</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Slow-Loris-Attack"><span class="toc_mobile_items-number">2.12.1.</span> <span class="toc_mobile_items-text">Slow Loris Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Slow-Post-Attack"><span class="toc_mobile_items-number">2.12.2.</span> <span class="toc_mobile_items-text">Slow Post Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Slow-Read-Attack"><span class="toc_mobile_items-number">2.12.3.</span> <span class="toc_mobile_items-text">Slow Read Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#Apache-range-header-Attack"><span class="toc_mobile_items-number">2.12.4.</span> <span class="toc_mobile_items-text">Apache range header Attack</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#说一下-Apache-的防护"><span class="toc_mobile_items-number">2.12.5.</span> <span class="toc_mobile_items-text">说一下 Apache 的防护</span></a></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#XSS-DOS-（稍作了解"><span class="toc_mobile_items-number">2.13.</span> <span class="toc_mobile_items-text">XSS-DOS （稍作了解</span></a></li><li class="toc_mobile_items-item toc_mobile_items-level-2"><a class="toc_mobile_items-link" href="#时间透镜攻击"><span class="toc_mobile_items-number">2.14.</span> <span class="toc_mobile_items-text">时间透镜攻击</span></a><ol class="toc_mobile_items-child"><li class="toc_mobile_items-item toc_mobile_items-level-3"><a class="toc_mobile_items-link" href="#攻击示意图"><span class="toc_mobile_items-number">2.14.1.</span> <span class="toc_mobile_items-text">攻击示意图</span></a></li></ol></li></ol></li><li class="toc_mobile_items-item toc_mobile_items-level-1"><a class="toc_mobile_items-link" href="#参考"><span class="toc_mobile_items-number">3.</span> <span class="toc_mobile_items-text">参考</span></a></li></ol></div></div></div><div id="body-wrap"><div id="web_bg" data-type="photo"></div><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true">     </i><div class="auto_open" id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#DDoS简介"><span class="toc-number">1.</span> <span class="toc-text">DDoS简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#DDoS危害"><span class="toc-number">1.1.</span> <span class="toc-text">DDoS危害</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#攻击来源"><span class="toc-number">1.2.</span> <span class="toc-text">攻击来源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#流量特点"><span class="toc-number">1.3.</span> <span class="toc-text">流量特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#导致DDoS原因"><span class="toc-number">1.4.</span> <span class="toc-text">导致DDoS原因</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#攻击类型及防御"><span class="toc-number">2.</span> <span class="toc-text">攻击类型及防御</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Smurf-Attack"><span class="toc-number">2.1.</span> <span class="toc-text">Smurf Attack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TearDrop-Attack"><span class="toc-number">2.2.</span> <span class="toc-text">TearDrop Attack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Land-Attack"><span class="toc-number">2.3.</span> <span class="toc-text">Land Attack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SYN-flood-attack-几个值得了解的关键点来了"><span class="toc-number">2.4.</span> <span class="toc-text">SYN flood attack (几个值得了解的关键点来了)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ACK-Flood-Attack"><span class="toc-number">2.5.</span> <span class="toc-text">ACK Flood Attack</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#第一种"><span class="toc-number">2.5.1.</span> <span class="toc-text">第一种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#第二种"><span class="toc-number">2.5.2.</span> <span class="toc-text">第二种</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP-FLood-Attack"><span class="toc-number">2.6.</span> <span class="toc-text">UDP FLood Attack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NTP放大攻击-初步只作点了解"><span class="toc-number">2.7.</span> <span class="toc-text">NTP放大攻击(初步只作点了解)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DNS放大攻击"><span class="toc-number">2.8.</span> <span class="toc-text">DNS放大攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS递归查询"><span class="toc-number">2.8.1.</span> <span class="toc-text">DNS递归查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DNS递归查询-1"><span class="toc-number">2.8.2.</span> <span class="toc-text">DNS递归查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SNMP放大攻击"><span class="toc-number">2.9.</span> <span class="toc-text">SNMP放大攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#下面来看一下SNMP的PDU格式"><span class="toc-number">2.9.1.</span> <span class="toc-text">下面来看一下SNMP的PDU格式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TFTP放大攻击"><span class="toc-number">2.10.</span> <span class="toc-text">TFTP放大攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#超时重传机制"><span class="toc-number">2.10.1.</span> <span class="toc-text">超时重传机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TFTP-放大攻击示意图"><span class="toc-number">2.10.2.</span> <span class="toc-text">TFTP 放大攻击示意图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CC-攻击-重点"><span class="toc-number">2.11.</span> <span class="toc-text">CC 攻击 (重点)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HTTP-慢速攻击"><span class="toc-number">2.12.</span> <span class="toc-text">HTTP 慢速攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Slow-Loris-Attack"><span class="toc-number">2.12.1.</span> <span class="toc-text">Slow Loris Attack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Slow-Post-Attack"><span class="toc-number">2.12.2.</span> <span class="toc-text">Slow Post Attack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Slow-Read-Attack"><span class="toc-number">2.12.3.</span> <span class="toc-text">Slow Read Attack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apache-range-header-Attack"><span class="toc-number">2.12.4.</span> <span class="toc-text">Apache range header Attack</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#说一下-Apache-的防护"><span class="toc-number">2.12.5.</span> <span class="toc-text">说一下 Apache 的防护</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XSS-DOS-（稍作了解"><span class="toc-number">2.13.</span> <span class="toc-text">XSS-DOS （稍作了解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#时间透镜攻击"><span class="toc-number">2.14.</span> <span class="toc-text">时间透镜攻击</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#攻击示意图"><span class="toc-number">2.14.1.</span> <span class="toc-text">攻击示意图</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-number">3.</span> <span class="toc-text">参考</span></a></li></ol></div></div></div><main id="content-outer"><div id="top-container" style="background-image: url(https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_0.png)"><div id="post-info"><div id="post-title"><div class="posttitle">DDoS原理与防御</div></div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i> 发表于 2020-03-29<span class="post-meta__separator">|</span><i class="fa fa-history fa-fw" aria-hidden="true"></i> 更新于 2020-03-31</time><span class="post-meta__separator">|</span><span><i class="fa fa-inbox post-meta__icon fa-fw" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span><div class="post-meta-wordcount"><div class="post-meta-pv-cv"></div></div></div></div></div><div class="layout layout_post" id="content-inner">   <article id="post"><div class="article-container" id="post-content"><p>感觉自己最近很颓废，因为一点小事就想着逃避，然后摸鱼摸一天<br>为什么要写这篇，主要是因为考试考到了，所以记录学习一下<br>                                – 懒狗发言</p>
<h1 id="DDoS简介"><a href="#DDoS简介" class="headerlink" title="DDoS简介"></a>DDoS简介</h1><p><strong>DDoS(Distributed Denial of Service)</strong>，又称分布式拒绝服务攻击。<br>通过控制多个肉鸡或服务器组成的僵尸网络，对目标发送大量看似合法请求，从而占用大量网络资源，瘫痪网络，阻止用户对网络资源o的正常访问。</p>
<h2 id="DDoS危害"><a href="#DDoS危害" class="headerlink" title="DDoS危害"></a>DDoS危害</h2><p>出口带宽堵死<br>游戏掉线导致客户流失<br>服务器连接数多，连接资源被耗尽<br>服务器卡、慢、死机、无法连接</p>
<h2 id="攻击来源"><a href="#攻击来源" class="headerlink" title="攻击来源"></a>攻击来源</h2><p>高性能服务器配合发包软件<br>可联网的设备(如打印机、摄像头、电视等等)<br>移动设备(数量多，增长速度快，其高性能利于组建僵尸网络)<br>个人PC(存在漏洞的PC或一些黑客迷自愿成为DDOS一员)<br>骇客控制的僵尸网络(僵尸网络又分为IRC型、HTTP型、P2P型)</p>
<h2 id="流量特点"><a href="#流量特点" class="headerlink" title="流量特点"></a>流量特点</h2><p>IP地址随机或固定某些IP段随机<br>没有完整完成三次握手<br>地址多数是伪造的<br>请求数量大、快</p>
<h2 id="导致DDoS原因"><a href="#导致DDoS原因" class="headerlink" title="导致DDoS原因"></a>导致DDoS原因</h2><p>个人因素：金钱利益 政治冲突 宗教冲突 为求出名</p>
<p>服务带宽上限 网络协议存在缺陷<br>服务器设备性能上限<br>应用性能上限<br>系统性能上限</p>
<hr>
<h1 id="攻击类型及防御"><a href="#攻击类型及防御" class="headerlink" title="攻击类型及防御"></a>攻击类型及防御</h1><h2 id="Smurf-Attack"><a href="#Smurf-Attack" class="headerlink" title="Smurf Attack"></a>Smurf Attack</h2><p>攻击者向网关发送 <code>ICMP请求包</code>，并将该 <code>ICMP请求报文的源地址</code> 伪造成 <code>受害主机IP地址</code>，目的地址为广播地址。<br>路由器在接受到该数据包，发现目的地址是<strong>广播地址</strong>，就会将该数据包广播出去，局域网内所有的 <strong>存活主机</strong> 都会受到一个 <code>ICMP请求包</code>，<strong>源地址是受害主机IP</strong>。接下来受害主机就会收到该网络内所有主机发来的 <code>ICMP应答报文</code> ，通过大量返回的ICMP应答报文来淹没受害主机，最终导致网络阻塞，受害主机崩溃。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_1.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_1" class="fancybox"><img alt="ddos_1" title="ddos_1" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_1.png" class="lazyload"></a></p>
<p>防护方案：</p>
<ul>
<li>禁止路由器广播ICMP请求包；</li>
<li>禁止操作系统对广播发出的ICMP请求包做出响应；</li>
<li>配置防火墙静止来自你所处网络外部的ping包</li>
</ul>
<hr>
<h2 id="TearDrop-Attack"><a href="#TearDrop-Attack" class="headerlink" title="TearDrop Attack"></a>TearDrop Attack</h2><p>在了解这种攻击之前，需要先知道什么是 <code>IP fragmentation(数据包分片)</code>。数据在网络中传输必定会产生数据包被分片，因为每种网络都有不同的最大单个数据包的大小，也就是常说的 <code>MTU (Maximum Transmission Unit，最大传输单元)</code>。当要传输的数据超过你要通信的那台主机所处网络的MTU时，数据包就会被分片进行传输，然后在到达目的地再重新组装成原来的数据包，下面是数据包分片重组过程</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_2.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_2" class="fancybox"><img alt="ddos_2" title="ddos_2" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_2.png" class="lazyload"></a></p>
<p><code>TearDrop Attack</code>，就是通过设置错误的片偏移，使得数据包到达目的地时，服务器无法重新组合数据包，因为数据包的组合是通过片偏移来组装的，最终导致崩溃。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_3.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_3" class="fancybox"><img alt="ddos_3" title="ddos_3" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_3.png" class="lazyload"></a></p>
<p>对比一下正常IP数据包和错误IP数据包</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_4.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_4" class="fancybox"><img alt="ddos_4" title="ddos_4" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_4.png" class="lazyload"></a></p>
<p>这种攻击主要对旧的windows版本和Linux版本有效，防护的话，可以检测发来的数据包片偏移是否合法，如果合法在组装，不合法直接丢弃。例如这个：<a href="https://wenku.baidu.com/view/b45bba61ddccda38376baf7f.html" target="_blank" rel="noopener">分片重组检查算法 &lt;- link</a>。</p>
<p>网络安全设备将接收到的<strong>分片报文</strong>先放入<strong>缓存</strong>中，并根据<strong>源IP地址</strong>和<strong>目的IP地址</strong>对报文进行分组，源IP地址和目的IP地址均相同的报文归入同一组，然后对每组IP报文的相关分片信息进行检查，<strong>丢弃分片信息存在错误的报文</strong>。为了防止缓存益处，当缓存快要存满是，直接丢弃后续分片报文。</p>
<hr>
<h2 id="Land-Attack"><a href="#Land-Attack" class="headerlink" title="Land Attack"></a>Land Attack</h2><p>攻击者发动 <code>Land Attack</code> 攻击时，需要先发出一个SYN数据包，并将数据包的源IP与目的IP都设置成要攻击的目标IP，这样目标在接收到SYN数据包后，会根据源IP回应一个SYN+ACK数据包，即和自己建立一个空连接，然后到达idel超时时间时，才会释放这个连接。攻击者发送大量这样的数据包，从而耗尽目标的TCP连接池，最终导致拒绝服务。攻击过程如下</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_5.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_5" class="fancybox"><img alt="ddos_5" title="ddos_5" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_5.png" class="lazyload"></a></p>
<p><strong>防御方案</strong>:</p>
<ul>
<li>通过<strong>设置防火墙和路由规则</strong>，检测源IP与目的IP相同的数据包，丢弃、过滤这种数据包。(类似上述的 <font color="6495ED">TearDrop Attack</font>)</li>
</ul>
<hr>
<h2 id="SYN-flood-attack-几个值得了解的关键点来了"><a href="#SYN-flood-attack-几个值得了解的关键点来了" class="headerlink" title="SYN flood attack (几个值得了解的关键点来了)"></a>SYN flood attack (几个值得了解的关键点来了)</h2><p><code>SYN flood attack</code> 是在TCP三次握手过程中产生的。攻击者通过发送大量伪造的带有<font color="6495ED">SYN标志位的TCP报文</font>，与目标主机建立了很多虚假的<strong>半开连接</strong>，在服务器返回<font color="6495ED">SYN+ACK数据包</font>后，攻击者不对其做出响应，也就是不返回ACK数据包给服务器，这样服务器就会一直等待直到超时。这种攻击方式会使目标服务器连接资源耗尽、链路堵塞，从而达到拒绝服务的目的。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_6.jpg" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_6" class="fancybox"><img alt="ddos_6" title="ddos_6" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_6.jpg" class="lazyload"></a></p>
<p><strong>防御方案</strong>:</p>
<ul>
<li><p><font color="6495ED">SYN Check</font>：使用防护设备，<strong>3次握手变成了6次握手</strong>，由防护设备检测SYN请求是否合法，通过后再由防护设备将报文转发给服务器，后续报文仍由防护设备代理。</p>
</li>
<li><p><font color="6495ED">Micro blocks</font>：管理员可以在内存中<strong>为每个SYN请求创建一个小索引(小于16字节)</strong>，而不必把整个连接对象存入内存。</p>
</li>
<li><p><font color="6495ED">RST cookies</font>：在客户端发起第一个SYN请求后，服务器故意回应一个错误的SYN+ACK报文。如果合法用户收到这个报文，就会给服务器响应RST报文。当服务器收到这个报文时，就将这个主机的IP记录进合法IP列表，下次该主机发起SYN请求时，就可以直接通过了。</p>
</li>
<li><p><font color="6495ED">STACK tweaking</font>：管理员可以调整TCP堆栈以减缓SYN泛洪攻击的影响。这包括<strong>减小超时时间</strong>，<strong>等到堆栈存释内放时再分配连接</strong>，否则就随机性地删除传入的连接。</p>
</li>
</ul>
<h2 id="ACK-Flood-Attack"><a href="#ACK-Flood-Attack" class="headerlink" title="ACK Flood Attack"></a>ACK Flood Attack</h2><p><code>ACK Flood Attack</code> 是利用TCP三次握手过程。这里可以分为两种。</p>
<h3 id="第一种"><a href="#第一种" class="headerlink" title="第一种"></a>第一种</h3><p><strong>攻击者</strong>伪造大量的 <code>SYN+ACK包</code> 发送给目标主机，目标主机每收到一个 <code>SYN+ACK数据包</code> 时，都会去<strong>自己的TCP连接表中查看有没有与ACK的发送者建立连接</strong> ，<strong>如果有则发送ACK包完成TCP连接，如果没有则发送 ACK+RST 断开连接</strong>。但是在查询过程中会消耗一定的CUP计算资源。如果瞬间收到大量的SYN+ACK数据包，将会消耗服务器的大量cpu资源，导致<font color="6495ED">正常的连接无法建立或增加延迟，甚至造成服务器瘫痪、死机。</font></p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_7.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_7" class="fancybox"><img alt="ddos_7" title="ddos_7" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_7.png" class="lazyload"></a></p>
<h3 id="第二种"><a href="#第二种" class="headerlink" title="第二种"></a>第二种</h3><p><strong>利用TCP三次握手的ACK+SYN应答</strong>，攻击者向不同的服务器发送大量的SYN请求，这些SYN请求数据包的源IP均为受害主机IP，这样就会有大量的SYN+ACK应答数据包发往受害主机，从而占用目标的网络带宽资源，形成拒绝服务。</p>
<p>通常DDOS攻击会将ACK flood与SYN flood结合在一起，从而扩大威力。<br><strong>防御方案</strong>可参考如下：</p>
<ul>
<li>采用CDN进行流量稀释；</li>
<li>避免服务器IP暴露在公网上；</li>
<li>通过限速或动态指纹的方式；</li>
<li>利用对称性判断来分析出是否有攻击存在；</li>
<li>在连续收到用户发送的ACK包时，中断回话，让其重连。</li>
</ul>
<h2 id="UDP-FLood-Attack"><a href="#UDP-FLood-Attack" class="headerlink" title="UDP FLood Attack"></a>UDP FLood Attack</h2><p><code>UDP</code>（<code>User Datagram Protocol</code>，用户数据报协议），是一种<strong>无连接和无状态的网络协议</strong>，UDP不需要像TCP那样进行三次握手，运行开销低，不需要确认数据包是否成功到达目的地。这就造成UDP泛洪攻击不但效率高，而且还可以在资源相对较少的情况下执行。<code>UDP FLood</code> 可以使用小数据包(64字节)进行攻击,也可以使用大数据包(大于1500字节,以太网MTU为1500字节)进行攻击。大量小数据包会增大网络设备处理数据包的压力；而对于大数据包，网络设备需要进行分片、重组，最终达到的效果就是<strong>占用网络传输接口的带宽、网络堵塞、服务器响应慢等等。</strong></p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_8.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_8" class="fancybox"><img alt="ddos_8" title="ddos_8" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_8.png" class="lazyload"></a></p>
<p><strong>防御方案</strong>：</p>
<ul>
<li>限制每秒钟接受到的流量(可能产生误判)；</li>
<li>通过动态指纹学习(需要攻击发生一定时间)，将非法用户加入黑名单。</li>
</ul>
<hr>
<h2 id="NTP放大攻击-初步只作点了解"><a href="#NTP放大攻击-初步只作点了解" class="headerlink" title="NTP放大攻击(初步只作点了解)"></a>NTP放大攻击(初步只作点了解)</h2><p><code>NTP</code> (<code>Network Time Protocol</code>，网络时间协议)，是用来使计算机网络时间同步化的一种协议，它可以使计算机与时钟源进行同步化并提供高精度的时间校正，使用 <code>UDP 123</code> 端口进行通信。<br>通常在NTP服务器上会有一些调试接口，而 <strong>利用这些接口中的monlist请求，就可触发放大攻击。</strong> 当<strong>主机</strong>向 <code>NTP服务器</code> 发送 <strong>monlist查询请求</strong> 时，NTP服务器会将与之进行时间同步的最后600个IP地址返回。所以攻击者只需要将源地址伪造为受害主机的IP，向NTP服务器发送一个monlist查询请求包，受害主机就会收到大量的UDP响应包。这种攻击在放大攻击里，危害相对较大。</p>
<p>总结一下这种攻击产生的原因:</p>
<ul>
<li>请求与响应数据包不等价；</li>
<li>UDP协议的通信模糊性（无数据传输确认机制）；</li>
<li>NTP服务器的无认证机制。</li>
</ul>
<p>再来谈谈<strong>防御方案</strong>：</p>
<ul>
<li>使用防 <code>DDoS</code> 设备进行清洗；</li>
<li>加固并升级NTP服务器；</li>
<li>在网络出口封禁 <code>UDP 123</code> 时间同步端口；</li>
<li>通过网络层或者借助运营商实施 <code>ACL</code> 来防御；</li>
<li>关闭现在 <code>NTP</code> 服务的 <code>monlist</code> 功能，在 <code>ntp.conf</code>配置文件中增加<code>disable monitor</code> 选项。</li>
</ul>
<hr>
<h2 id="DNS放大攻击"><a href="#DNS放大攻击" class="headerlink" title="DNS放大攻击"></a>DNS放大攻击</h2><p>DNS(Domain Name System，域名系统)，由于使用IP地址来记忆各个网站比较困难，所以就产生了使用主机名称来表示对应的服务器，主机名称通过域名解析的过程转换成IP地址。下面来看一下DNS报文格式，以便了解攻击发生在何处。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_9.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_9" class="fancybox"><img alt="ddos_9" title="ddos_9" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_9.png" class="lazyload"></a></p>
<p><strong>报文首部格式</strong></p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_10.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_10" class="fancybox"><img alt="ddos_10" title="ddos_10" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_10.png" class="lazyload"></a></p>
<p>报文首部各字段含义如下，其中高亮是攻击点之一</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_11.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_11" class="fancybox"><img alt="ddos_11" title="ddos_11" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_11.png" class="lazyload"></a></p>
<p>下面是问题记录中查询类型可设置的值，发现最后一个ANY类型会请求所有记录，这也是一个攻击点</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_12.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_12" class="fancybox"><img alt="ddos_12" title="ddos_12" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_12.png" class="lazyload"></a></p>
<h3 id="DNS递归查询"><a href="#DNS递归查询" class="headerlink" title="DNS递归查询"></a>DNS递归查询</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_13.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_13" class="fancybox"><img alt="ddos_13" title="ddos_13" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_13.png" class="lazyload"></a></p>
<h3 id="DNS递归查询-1"><a href="#DNS递归查询-1" class="headerlink" title="DNS递归查询"></a>DNS递归查询</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_14.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_14" class="fancybox"><img alt="ddos_14" title="ddos_14" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_14.png" class="lazyload"></a></p>
<p>从DNS数据包结构以及DNS递归查询过程，我们就可以大致分析出攻击原理。<br>首先，攻击者向 <strong>僵尸网络</strong> 发出指令，使僵尸网络中的每一台主机均发出一个 <strong>伪造源地址的DNS查询请求包</strong>，这些<strong>请求包查询类型设置为ANY</strong>，因为这种类型会请求所有的记录，这些记录会在返回的响应包中，也就是说这种数据包的大小较其他类型是最大的。</p>
<p>接着查询类型设为递归查询，为什么不是迭代查询呢，仔细看两种查询的过程图可发现，<strong>如果迭代查询第一个请求的DNS服务器没有查询到结果</strong>，那么第一个请求的服务器会返回另一个DNS服务器IP，让请求主机向这个IP去继续查询，然而 <strong><font color="6495ED">攻击者的数据包源地址是伪造的，所以并不会发起第二次查询，因为第一次查询根本就不是它发起的</font></strong>;</p>
<p>而<strong>递归查询</strong>却是在查询到结果之后，才返回给查询请求发起者。<br>利用这两个特点，攻击者就可以成功发起DNS放大攻击。<br>这种普通的查询请求可以<strong>将攻击流量放大2~10倍</strong>，如果想增大攻击倍数，可以使用 <code>RFC 2671</code> 中定义的DNS拓展机制EDNS0。未使用EDNS0时，若响应包大小小于512字节，就使用UDP封装数据；若响应包大小超过512字节，就使用TCP连接或者服务器截断响应报文，丢弃超过512字节的部分，并把TC位置1。这两种方式都不利于进行DNS放大攻击。然而在开启EDNS0机制后，增加了 <code>OPT RR</code> 字段，这两个字段包含了能够处理的最大UDP报文大小信息，所以攻击者将这个信息设置的很大，服务器就会根据这个信息生成响应报文。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_15.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_15" class="fancybox"><img alt="ddos_15" title="ddos_15" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_15.png" class="lazyload"></a></p>
<p><strong>防御方案</strong>：</p>
<ul>
<li>联系 <code>ISP</code> 清洗上游流量；</li>
<li>DNS服务器只对可信域内提供服务，限制对域外用户提供DNS解析服务；</li>
<li>对单个IP的查询速率做限制；</li>
<li>拥有足够的带宽承受小规模攻击；</li>
<li>关闭DNS服务器的递归查询；</li>
<li>利用防火墙等对 <code>ANY Request</code> 进行过滤。</li>
</ul>
<hr>
<h2 id="SNMP放大攻击"><a href="#SNMP放大攻击" class="headerlink" title="SNMP放大攻击"></a>SNMP放大攻击</h2><p><code>SNMP</code> ( <code>Simple Network Management Protocol</code>，简单网络管理协议)，是目前网络中应用最为广泛的网络管理协议，它提供了一个管理框架来监控和维和互联网设备，它使用UDP161端口进行通信。<font color="6495ED">攻击者向互联网上开启SNMP服务的设备发送GetBulk请求，并使用默认通信字符串作为认证凭据。</font>常见的默认通信字符串如<code>public</code>、<code>private</code> 以及一些厂商默认的通信字符串。<strong>GetBulk请求</strong>是在<strong>SNMPv2</strong>中添加的，该请求会让SNMP设备尽可能多的返回数据，这也就是SNMP放大攻击的利用点。</p>
<h3 id="下面来看一下SNMP的PDU格式"><a href="#下面来看一下SNMP的PDU格式" class="headerlink" title="下面来看一下SNMP的PDU格式"></a>下面来看一下SNMP的PDU格式</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_16.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_16" class="fancybox"><img alt="ddos_16" title="ddos_16" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_16.png" class="lazyload"></a></p>
<p>攻击者先将源地址改成要攻击的目标IP，再使用默认的通信字符串，向大量SNMP设备发出GetBulk请求，设备收到GetBulk请求数据包后，会将一大段的设备检索信息返回给目标主机，最终目标主机会被这些SNMP设备返回的数据包淹没，导致拒绝服务。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_17.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_17" class="fancybox"><img alt="ddos_17" title="ddos_17" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_17.png" class="lazyload"></a></p>
<p>防护方案：</p>
<ul>
<li>禁止已开启SNMP的设备响应GetBulk请求，避免自己的设备被黑客利用；</li>
<li>更改默认的通信字符串；</li>
<li>修改默认端口161；</li>
<li>隐藏开启SNMP设备的公网IP</li>
</ul>
<hr>
<h2 id="TFTP放大攻击"><a href="#TFTP放大攻击" class="headerlink" title="TFTP放大攻击"></a>TFTP放大攻击</h2><p><code>TFTP</code>（<code>Trivial File Transfer Protocol</code>，简单文件传输协议），使用<code>UDP 69端口</code>进行通信，由于TFTP使用的是不可靠的UDP协议，所以他不能确保发送的任何报文都能真正到达目的地，因此他必须使用定时器来检测并重传报文，以下是TFTP传输文件过程图</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_18.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_18" class="fancybox"><img alt="ddos_18" title="ddos_18" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_18.png" class="lazyload"></a></p>
<h3 id="超时重传机制"><a href="#超时重传机制" class="headerlink" title="超时重传机制"></a>超时重传机制</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_19.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_19" class="fancybox"><img alt="ddos_19" title="ddos_19" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_19.png" class="lazyload"></a></p>
<p>可以看到，<strong>TFTP协议</strong> 将数据分成好多个数据块进行传输，每个数据块最大为 <strong>512字节</strong>，客户端在接受到数据块时，需要给服务器端返回一个ACK确认报文，然后才会继续传输下一个报文。若服务器没有收到客户端发来ACK报文，则在时间到达超时计数器时，便会开启重传机制，这也就是攻击利用点。</p>
<p>攻击者利用TFTP协议上的缺陷，伪造源地址向服务器发起请求，服务器回复的第1个data数据包后无法收到客户端发送的ACK。此时TFTP就会利用他的重传机制，定时重传第1个data数据包，当攻击者发出大量的这种请求时，TFTP放大攻击也就发生了。</p>
<h3 id="TFTP-放大攻击示意图"><a href="#TFTP-放大攻击示意图" class="headerlink" title="TFTP 放大攻击示意图"></a>TFTP 放大攻击示意图</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_20.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_20" class="fancybox"><img alt="ddos_20" title="ddos_20" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_20.png" class="lazyload"></a></p>
<p><strong>防御方案</strong>：</p>
<ul>
<li>不将TFTP服务器暴露在公网上；</li>
<li>对流经TFTP服务的流量进行入侵检测；</li>
<li>将重传（数据包）率设置为1；</li>
<li>只为信任域内的主机提供服务。</li>
</ul>
<hr>
<h2 id="CC-攻击-重点"><a href="#CC-攻击-重点" class="headerlink" title="CC 攻击 (重点)"></a>CC 攻击 (重点)</h2><p><strong>CC攻击 (ChallengeCollapsar)</strong> 又称作 <code>HTTP 泛洪攻击</code>，其原理是攻击者控制肉鸡、僵尸网络或使用代理服务器，不停地向目标的web服务发送大量合法请求，使得正常用户的web请求处理缓慢甚至得不到处理，制造大量的后台数据库查询动作，消耗目标CPU资源，最终导致服务器宕机崩溃。</p>
<p>这种攻击方式不需要很大的带宽，且无法使用伪造IP地址进行攻击，需要真实的机器与web服务器建立连接，<strong><font color="6495ED">因为HTTP协议是建立在TCP协议上，必须先进行TCP三次握手才能进行HTTP通信。如果目标web服务器支持HTTPS，那么发起的HTTPS泛洪攻击还能穿透一些防护设备。</font></strong></p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_21.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_20" class="fancybox"><img alt="ddos_20" title="ddos_20" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_21.png" class="lazyload"></a></p>
<p><strong>防御方案</strong>：</p>
<ul>
<li>必要时将网页做成静态，减少数据库的使用；</li>
<li>限制连接数量；修改最大超时时间；</li>
<li>让用户手动输入验证码；</li>
<li>在response报文中添加特殊字段，验证IP合法性；</li>
<li>屏蔽频繁访问服务器的主机IP。</li>
</ul>
<hr>
<h2 id="HTTP-慢速攻击"><a href="#HTTP-慢速攻击" class="headerlink" title="HTTP 慢速攻击"></a>HTTP 慢速攻击</h2><p><code>Slow HTTP Dos Attacks</code>（慢速HTTP拒绝服务攻击），黑客模拟正常用户向web服务器发送慢速http请求，由于是慢速的，服务器端需要保持连接资源，直到数据传输结束或请求结束才可释放连接。当服务器端建立了大量这样的慢速连接，就会导致服务器拒绝服务。这种攻击可以分为两类，<strong><font color="6495ED">一类是客户端发数据，另一类是客户端读取服务器发来的数据</font></strong>。HTTP慢速攻击对基于线程处理的web服务器影响显著，如 <code>apache、dhttpd</code>，而对基于事件处理的web服务器影响不大，如 <code>ngix、lighttpd。HTTP</code> 慢速攻击还可以细分成以下几种攻击方式。</p>
<h3 id="Slow-Loris-Attack"><a href="#Slow-Loris-Attack" class="headerlink" title="Slow Loris Attack"></a>Slow Loris Attack</h3><p>HTTP协议规定请求头以一个空行结束，所以 <code>完整的http请求头</code> 结尾是 <code>\r\n\r\n</code>。<br>然而使用非正常的 <code>\r\n</code> 来结尾，就会导致服务端认为我们的请求头还没结束，等待我们继续发送数据直到超时时间。</p>
<p>两种请求头区别如下，<strong><font color="6495ED">CRLF</font>(Carriage Return Line Feed)</strong> 表示回车换行</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_22.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_22" class="fancybox"><img alt="ddos_22" title="ddos_22" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_22.png" class="lazyload"></a></p>
<h3 id="Slow-Post-Attack"><a href="#Slow-Post-Attack" class="headerlink" title="Slow Post Attack"></a>Slow Post Attack</h3><p>在http头部信息，可以使用 <code>content-length</code> 声明HTTP消息实体的传输长度，服务器端会将 <code>content-length</code> 的值作为 <code>HTTP BODY</code> 的长度。(这个好像Struts2 有类似的漏洞)</p>
<p>利用这一特点，攻击者把 <code>content-length</code> 设置得很大的，然后缓慢发送数据部分，比如一次只发送一个字节，这样服务器端就要一直保持连接，直到客户端传完所有的数据。</p>
<h3 id="Slow-Read-Attack"><a href="#Slow-Read-Attack" class="headerlink" title="Slow Read Attack"></a>Slow Read Attack</h3><p>攻击者发送一个完整的HTTP数据请求，之后服务器会给出响应，这时攻击者在将自己的TCP窗口大小设置的很小，服务器会根据客户的TCP窗口大小来传送数据。</p>
<p>由于客户端的TCP窗口很小，服务器只能缓慢的传输数据给客户端。当建立大量的这种连接时，web应用的并发连接池将被耗尽，最终导致拒绝服务。</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_23.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_23" class="fancybox"><img alt="ddos_23" title="ddos_23" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_23.png" class="lazyload"></a></p>
<h3 id="Apache-range-header-Attack"><a href="#Apache-range-header-Attack" class="headerlink" title="Apache range header Attack"></a>Apache range header Attack</h3><p>这种攻击方式只针对 <code>Apache</code>，当客户端传输大文件时会有 <code>range字段</code>，表示将大文件分段，分成几个小段进行传输。<br>例如攻击者将一个文件按照一个字节一段，分成好多段，这样就会造成传输数据缓慢，长时间占用连接，消耗服务器CPU和内存资源。</p>
<h3 id="说一下-Apache-的防护"><a href="#说一下-Apache-的防护" class="headerlink" title="说一下 Apache 的防护"></a>说一下 Apache 的防护</h3><ul>
<li><strong><font color="6495ED">mod_reqtimeout :</font></strong> 控制请求数据传输的超时时间及最小速率</li>
</ul>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_24.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_24" class="fancybox"><img alt="ddos_24" title="ddos_24" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_24.png" class="lazyload"></a></p>
<ul>
<li><strong><font color="6495ED">mod_qos :</font></strong> Apache的一个服务质量控制模块，用户可配置各种不同阈值</li>
</ul>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_25.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_25" class="fancybox"><img alt="ddos_25" title="ddos_25" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_25.png" class="lazyload"></a></p>
<ul>
<li><strong><font color="6495ED">mod_security :</font></strong> 一个开源的WAF模块，有专门针对慢速攻击防护的规则</li>
</ul>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_26.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_26" class="fancybox"><img alt="ddos_26" title="ddos_26" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_26.png" class="lazyload"></a></p>
<p>其他的中间件防护方案，参考下面的链接</p>
<hr>
<h2 id="XSS-DOS-（稍作了解"><a href="#XSS-DOS-（稍作了解" class="headerlink" title="XSS-DOS （稍作了解"></a>XSS-DOS （稍作了解</h2><p>利用网站存在的 <code>存储型XXS漏洞</code>，在网站中插入恶意的js代码。<strong><font color="6495ED">代码的功能是不断向web服务器发起大量请求，从而导致服务器宕机，无法响应正常用户的请求。</font></strong></p>
<p>客户端访问已插入恶意的javascript代码的页面后，流量如下</p>
<p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_27.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_27" class="fancybox"><img alt="ddos_27" title="ddos_27" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_27.png" class="lazyload"></a></p>
<p>由于这种攻击的是由 <code>存储型XSS</code>导致的，因此要考虑如何防护 <code>存储型XSS</code>。</p>
<p><strong>防护方案</strong>：</p>
<ul>
<li>对用户的输入以及url参数进行特殊字符过滤；</li>
<li>对输出内容进行编码转换；</li>
<li>结合黑白名单机制。</li>
</ul>
<h2 id="时间透镜攻击"><a href="#时间透镜攻击" class="headerlink" title="时间透镜攻击"></a>时间透镜攻击</h2><p>通过控制相同源和相同目的IP报文，使得走不同路径的数据包，在同一时刻到达目标服务器，从而达到流量集中攻击的目的。</p>
<p>这种攻击其实我也还弄不太懂，详细信息可以阅读这篇paper：<a href="http://icir.org/vern/papers/lensing.oak15.pdf" target="_blank" rel="noopener">Temporal Lensing and its Application in Pulsing Denial-of-Service Attacks</a>，以及后面的参考链接</p>
<h3 id="攻击示意图"><a href="#攻击示意图" class="headerlink" title="攻击示意图"></a>攻击示意图</h3><p><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_28.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_28" class="fancybox"><img alt="ddos_28" title="ddos_28" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_28.png" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_29.png" target="_blank" rel="noopener" data-fancybox="group" data-caption="ddos_29" class="fancybox"><img alt="ddos_29" title="ddos_29" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_29.png" class="lazyload"></a></p>
<p>主要扯一下防护方案：增加抖动，干扰攻击路径，使得数据包无法预期到达；由运营商禁止源路由。<br>其他防御措施：</p>
<ul>
<li>采用高性能的网络设备；充足的网络带宽保证；升级主机服务器硬件；</li>
<li><strong>避免将服务器的真实IP暴露在公网中</strong>；</li>
<li>使用CDN对流量进行稀释，当大流量稀释到各个CDN节点时，再对流量进行清洗，从而达到防护源站的目的。然而这种防御方式只能用在对域名发起的DDOS攻击，如果攻击者直接对IP进行攻击，则需要使用 <code>anycast技术</code> 来防御。</li>
</ul>
<hr>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://kb.mazebolt.com/knowledgebase/ack-flood/" target="_blank" rel="noopener">ack flood</a><br><a href="https://zhidao.baidu.com/question/1429836881297848579.html" target="_blank" rel="noopener">DDoS和cc的区别</a><br><a href="https://www.jianshu.com/p/dff5a0d537d8" target="_blank" rel="noopener">什么是cc攻击</a><br><a href="https://www.imperva.com/learn/application-security/" target="_blank" rel="noopener">DDoS的大部分攻击形式</a><br><a href="https://www.acunetix.com/blog/articles/slow-http-dos-attacks-mitigate-apache-http-server/" target="_blank" rel="noopener">Mitigate Slow HTTP GET/POST Vulnerabilities in the Apache HTTP Server</a><br><a href="https://blog.qualys.com/securitylabs/2011/11/02/how-to-protect-against-slow-http-attacks" target="_blank" rel="noopener">How to Protect Against Slow HTTP Attacks</a><br><a href="https://mp.weixin.qq.com/s?__biz=MzI2NjUwNjU4OA==&mid=2247483685&idx=1&sn=8ac38ff22d571bbbf7716cb9e83b9b35&chksm=ea8c5916ddfbd00008d9b28e22fccba8c201ce78c70c2d78d10ee732f22a39ccf46d4b197634&mpshare=1&scene=23&srcid=0831Wr5YJPYzSrQU6gnfGVd0" target="_blank" rel="noopener">时间透镜及其在脉冲拒绝服务攻击的应用</a><br>《破坏之王_DDoS攻击与防范深度剖析》(书籍网上有电子档)</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">凌岳霖</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.suk1.top/2020/03/29/Ddos%E5%AD%A6%E4%B9%A0/">https://www.suk1.top/2020/03/29/Ddos%E5%AD%A6%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.suk1.top">Manayakko - 微笑才是王道</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E7%9E%8E%E6%89%AF/">瞎扯    </a><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F/">渗透    </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_0.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/Wechat.jpg" alt="微信"><div class="post-qr-code__desc">微信</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/04/02/De1CTFGiftbox/"><img class="prev_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/giftbox_1.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">上一篇</div><div class="prev_info"><span>De1CTF Giftbox题解</span></div></a></div><div class="next-post pull_right"><a href="/2020/03/26/php%E6%B7%B7%E6%B7%86%E5%8A%A0%E5%AF%86/"><img class="next_cover lazyload" data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/php_decode6.png" onerror="onerror=null;src='/img/404.jpg'"><div class="label">下一篇</div><div class="next_info"><span>浅析PHP混淆加密</span></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/2020/01/13/Linux_etc_passwd/" title="Linux /etc/passwd 内容解释"><img class="relatedPosts_cover lazyload"data-src="/img/index2.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-01-13</div><div class="relatedPosts_title">Linux /etc/passwd 内容解释</div></div></a></div><div class="relatedPosts_item"><a href="/2020/04/09/SSTi_learning/" title="SSTi 模板注入笔记"><img class="relatedPosts_cover lazyload"data-src="https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/FF7re.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-04-13</div><div class="relatedPosts_title">SSTi 模板注入笔记</div></div></a></div><div class="relatedPosts_item"><a href="/2019/09/12/渗透总结/" title="渗透总结学习笔记（误"><img class="relatedPosts_cover lazyload"data-src="/img/index2.jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2019-09-12</div><div class="relatedPosts_title">渗透总结学习笔记（误</div></div></a></div></div><div class="clear_both"></div></div></div></main><footer id="footer" style="background-image: url(https://cdn.jsdelivr.net/gh/Manayakko/PicBed/img2/ddos_0.png)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2022 By 凌岳霖</div><div class="framework-info"><span>驱动 </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"><span>湘ICP备20004980号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>$(function () {
  $('span.katex-display').wrap('<div class="katex-wrap"></div>')
})</script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"right","hOffset":60,"vOffset":-20,"width":90,"height":180},"mobile":{"show":false},"log":false});</script></body></html>